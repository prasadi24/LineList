@using LineList.Cenovus.Com.Domain.DataTransferObjects
@model SearchLineListViewModel

<form asp-action="IncludeExistingLines" id="lineCollectionForm" method="post">
	<div class="col-xl-12">
		<div class="nav-align-top mb-4">
		<div class="mt-md-0">
			<div class="row">
				<div class="card mb-md-1">
					<div class="card-header">
						<div class="card-header d-flex justify-content-between align-items-center">
								<h5 class="mb-3 page-header">Include Existing Lines</h5>
							<a class="btn btn-outline-primary" data-bs-toggle="collapse" href="#searchPnl" role="button">
								<i class="fas fa-chevron-down"></i> Toggle Search
							</a>
						</div>
					</div>
					<div class="table">
						<div id="searchPnl" class="collapse show">
							<div class="card-body">
								<form asp-action="SearchResults" method="post">

										<!-- Row 1 -->
										<div class="row mb-1">
											<div class="col-md-6 d-flex align-items-center">
												<label class="me-2 fw-bold w-50">Facility:</label>
												<select id="facilityDropdown" asp-for="SelectedFacilityId" class="me-4 form-select"> @* disabled> *@
													<option value="">-- Select --</option>
													@foreach (var facility in Model.Facilities)
													{
														<option value="@facility.Id">@facility.Name - @facility.Description</option>
													}
												</select>
											</div>
											<div class="col-md-6 d-flex align-items-center">
												<label class="me-2 fw-bold w-50">Area:</label>
												<select id="areaDropdown" asp-for="SelectedAreaId" class="me-4 form-select">
													<option value="">-- Select --</option>
													@foreach (var area in Model.Areas)
													{
														<option value="@area.Id">@area.Name - @area.Description</option>
													}
												</select>
											</div>											
										</div>
									<!-- Row 2 -->
									<div class="row mb-1">										
											<div class="col-md-6 d-flex align-items-center">
												<label class="me-2 fw-bold w-50">Specification:</label>
												<select id="specificationsDropdown" asp-for="SelectedSpecificationId" class="me-4 form-select">
													<option value="">-- Select --</option>
													@foreach (var spec in Model.Specifications)
													{
														<option value="@spec.Id">@spec.Name- @spec.Description</option>
													}
												</select>
											</div>
										<div class="col-md-6 d-flex align-items-center">
											<label class="me-2 fw-bold w-50">Pipe Specification:</label>
											<select id="pipeSpecificationDropdown" asp-for="SelectedPipeSpecificationId" class="me-4 form-select">
												<option value="">-- Select --</option>
												@foreach (var pipeSpec in Model.PipeSpecifications)
												{
													<option value="@pipeSpec.Id">@pipeSpec.Name - @pipeSpec.Description</option>
												}
											</select>
										</div>
									</div>

									<!-- Row 3 -->
									<div class="row mb-1">										
											<div class="col-md-6 d-flex align-items-center">
												<label class="me-2 fw-bold w-50">Location:</label>
												<select id="locationDropdown" asp-for="SelectedLocationId" class="me-4 form-select">
													<option value="">-- Select --</option>
													@foreach (var location in Model.Locations)
													{
														<option value="@location.Id">@location.Name- @location.Description</option>
													}
												</select>
											</div>
										<div class="col-md-6 d-flex align-items-center">
											<label class="me-2 fw-bold w-50">Cenovus Project:</label>
											<select id="cenovusProjectDropdown" asp-for="SelectedProjectId" class="me-4 form-select">
												<option value="">-- Select --</option>
												@foreach (var project in Model.CenovusProjects)
												{
													<option value="@project.Id">@project.Name</option>
												}
											</select>
										</div>
									</div>

									<!-- Row 4 -->
									<div class="row mb-1">
											<div class="col-md-6 d-flex align-items-center">
												<label class="me-2 fw-bold w-50">Commodity:</label>
												<select id="commodityDropdown" asp-for="SelectedCommodityId" class="me-4 form-select">
													<option value="">-- Select --</option>
													@foreach (var commodity in Model.Commodities)
													{
														<option value="@commodity.Id">@commodity.Name - @commodity.Description</option>
													}
												</select>
											</div>
										<div class="col-md-6 d-flex align-items-center">
											<label class="me-2 fw-bold w-50">Ep Project:</label>
											<select id="epProjectDropdown" asp-for="SelectedEPProjectId" class="me-4 form-select">
												<option value="">-- Select --</option>
												@foreach (var epProject in Model.EPProjects)
												{
													<option value="@epProject.Id">@epProject.Name- @epProject.Description</option>
												}
											</select>
										</div>
										
									</div>

									<!-- Row 5 -->
									<div class="row mb-1">
										<div class="col-md-6 d-flex align-items-center">
											<label class="me-2 fw-bold w-50">MIN (Modular ID):</label>
											<select id="modularDropdown" asp-for="SelectedModularID" class="me-4 form-select">
												<option value="">-- Select --</option>
												@foreach (var min in Model.ModularDetails)
												{
													<option value="@min.Name">@min.Value</option>
												}
											</select>
										</div>
											<div class="col-md-6 d-flex align-items-center">
												<label class="me-2 fw-bold w-50">Document Number:</label>
												<select id="documentNumberDropdown" asp-for="SelectedDocumentNumberId" class="me-4 form-select">
													<option value="">-- Select --</option>
													@foreach (var epProject in Model.EPProjects)
													{
														<option value="@epProject.Id">@epProject.Name- @epProject.Description</option>
													}
												</select>
											</div>
									</div>
									<!-- Row 6 -->
									<div class="row mb-1">
										<div class="col-md-6 d-flex align-items-center">
											<label class="me-2 fw-bold w-50">Line Sequence #:</label>
											<input asp-for="SelectedSequenceNumber" type="text" class="me-4 form-control" />
										</div>

									</div>

									<!-- Action Buttons -->
									<div class="row">
										<div class="col-12 text-end">
											<button type="reset" class="btn btn-outline-secondary me-2">
												<i class="fas fa-times"></i> Clear Criteria
											</button>
											<button type="button" id="btnSearch" class="btn btn-primary">Search</button>
										</div>
									</div>

								</form>
							</div>
						</div>
						<hr />
						<div class="table">
								<table id="exisitnglinesDataTable" class="table">
								<thead>
									<tr>
										<th colspan="1" class="text-center border-end">
											<label class="me-3">
													<input type="checkbox" class="form-check-input select-all-checkbox" id="selectAllLinesCheckbox" />
												<button id="toggleFiltersLines"><i class="fas fa-search"></i></button>
											</label>
										</th>
										<th colspan="10" class="text-center border-end">Line</th>
										<th colspan="3" class="text-center">Line List</th>
									</tr>

									<tr>
										<th>Select</th>
										<th>P/C</th>
										<th>Location</th>
										<th>Pipe Spec</th>
										<th>Comm.</th>
										<th>Size NPS</th>
										<th>Seq. #</th>
										<th>Area</th>
										<th>Spec</th>
										<th>Line Status</th>
										<th>MIN</th>
										<th>Document</th>
										<th>Revision</th>
										<th>Status</th>
									</tr>
										<tr id="searchInputs" class="filter-row-lines">
										<th></th>
										<th><input type="text" class="form-control" placeholder="P/C" /></th>
										<th><input type="text" class="form-control" placeholder="Location" /></th>
										<th><input type="text" class="form-control" placeholder="Pipe Spec" /></th>
										<th><input type="text" class="form-control" placeholder="Comm" /></th>
										<th><input type="text" class="form-control" placeholder="Size NPS" /></th>
										<th><input type="text" class="form-control" placeholder="Seq. #" /></th>
										<th><input type="text" class="form-control" placeholder="Area" /></th>
										<th><input type="text" class="form-control" placeholder="Spec" /></th>
										<th><input type="text" class="form-control" placeholder="Line Status" /></th>
										<th><input type="text" class="form-control" placeholder="MIN" /></th>
										<th><input type="text" class="form-control" placeholder="Document" /></th>
										<th><input type="text" class="form-control" placeholder="Revision" /></th>
										<th><input type="text" class="form-control" placeholder="Status" /></th>
									</tr>
								</thead>
								<tbody>

								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
	</div>
	<div class="modal-footer">
		<button type="submit" class="btn btn-primary" id="btnIncludeLine">Include</button>
		<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
	</div>
</form>